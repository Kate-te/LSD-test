!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var i=function(i,e){function s(i,e){this.defaults={pagination:!0,slideDuration:"1000",autoplaySpeed:5e3},this.settings=t.extend({},this,this.defaults,e),this.initials={index:0,$index:null,totalSlides:!1,csstransitions:!1},t.extend(this,this.initials),this.$el=t(i),this.changeSlide=t.proxy(this.changeSlide,this),this.init()}return s}();i.prototype.init=function(){this.addPagination(),this.addEvents(),this.activatePagination(),this.initTimer()},i.prototype.addPagination=function(){var t=this.$el.find(".connect__dots");this.totalSlides=this.$el.find(".js-slide").length;for(var i=0;i<this.totalSlides;i++){var e=document.createElement("li");e.className="connect__dot",t.append(e)}},i.prototype.activatePagination=function(){this.$index=this.$el.find(".js-slide").eq(0),this.$el.find(".connect__dots li").eq(0).addClass("active")},i.prototype.addEvents=function(){t("body").on("click",".connect__dots li",this.changeSlide)},i.prototype.clearTimer=function(){this.timer&&clearInterval(this.timer)},i.prototype.initTimer=function(){this.timer=setInterval(this.changeSlide,this.settings.slideDuration)},i.prototype.startTimer=function(){this.initTimer(),this.throttle=!1},i.prototype.changeSlide=function(t){if(!this.throttle){this.throttle=!0,this.clearTimer();var i=this._direction(t);if(this._next(t,i)){var e=this.$el.find(".js-slide").eq(this.index).addClass(i+" active").fadeIn(1e3);this._animation(e,i)}}},i.prototype._direction=function(t){return void 0!==t?void 0===t.data?"right":t.data.direction:"right"},i.prototype._next=function(i,e){var s=void 0!==i?t(i.currentTarget).index():void 0;switch(!0){case void 0!==s:if(this.index==s)return this.startTimer(),!1;this.index=s;break;case"right"==e&&this.index<this.totalSlides-1:this.index++;break;case"right"==e:this.index=0;break;case"left"==e&&0===this.index:this.index=this.totalSlides-1;break;case"left"==e:this.index--}return!0},i.prototype._animation=function(t,i){this.$index.removeClass("active").fadeOut(0),this.$index=t.removeClass(i),this._updatePagination(),this.startTimer()},i.prototype._updatePagination=function(){this.$el.find(".connect__dots li").removeClass("active").eq(this.index).addClass("active")},t.fn.Carousel=function(t){return this.each(function(e,s){s.Carousel=new i(s,t)})}});var args={autoplaySpeed:1e3,slideDuration:2e3};$(".connect__main").Carousel(args),$(function(){$("#header__select").select()}),$(function(){$("#search__select").select({options:["Политехнический институт","Шулявская","Берестейская","Нивки"],listClass:"search__select_options",textClass:"search__select_text",optionsClass:"search__option"})}),$(function(){$("#popup__select").select({options:["Голосеевский","Печерский","Дарницкий","Днепровский"],listClass:"popup__select_options",textClass:"popup__select_text",optionsClass:"popup__option"})}),function(t){var i={options:["Киев","Одесса","Львов","Харьков"],listClass:"header__select_options",optionsClass:"header__option",textClass:"header__select_text"};t.fn.select=function(e){function s(i){0===c?(t(d).css("display","none"),c+=1):(t(d).css("display","flex"),c-=1)}function n(i){a=t(this).text(),t(h).text(a)}var o=t.extend({},i,e);this.init=function(){t("<span/>",{text:o.options[0],class:"select__text"}).addClass(o.textClass).appendTo(this);for(var i=t("<ul/>",{class:"select__options"}).addClass(o.listClass).appendTo(this),e=o.options,s=0;s<e.length;s++)t("<li/>",{text:e[s],class:"option"}).addClass(o.optionsClass).appendTo(i)},this.init();var a,l="."+o.optionsClass,d="."+o.listClass,r="#"+t(this).attr("id"),c=1,h="."+o.textClass;return t(r).bind("click",s),t(l).bind("click",n),this}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwialF1ZXJ5IiwiJCIsIkNhcm91c2VsIiwiZWxlbWVudCIsInNldHRpbmdzIiwiX0Nhcm91c2VsIiwidGhpcyIsImRlZmF1bHRzIiwicGFnaW5hdGlvbiIsInNsaWRlRHVyYXRpb24iLCJhdXRvcGxheVNwZWVkIiwiZXh0ZW5kIiwiaW5pdGlhbHMiLCJpbmRleCIsIiRpbmRleCIsInRvdGFsU2xpZGVzIiwiY3NzdHJhbnNpdGlvbnMiLCIkZWwiLCJjaGFuZ2VTbGlkZSIsInByb3h5IiwiaW5pdCIsInByb3RvdHlwZSIsImFkZFBhZ2luYXRpb24iLCJhZGRFdmVudHMiLCJhY3RpdmF0ZVBhZ2luYXRpb24iLCJpbml0VGltZXIiLCJkb3RzIiwiZmluZCIsImxlbmd0aCIsImkiLCJkb3QiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmQiLCJlcSIsImFkZENsYXNzIiwib24iLCJjbGVhclRpbWVyIiwidGltZXIiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJzdGFydFRpbWVyIiwidGhyb3R0bGUiLCJlIiwiZGlyZWN0aW9uIiwiX2RpcmVjdGlvbiIsIl9uZXh0IiwiJG5leHRTbGlkZSIsImZhZGVJbiIsIl9hbmltYXRpb24iLCJkYXRhIiwiY3VycmVudFRhcmdldCIsInVuZGVmaW5lZCIsInJlbW92ZUNsYXNzIiwiZmFkZU91dCIsIl91cGRhdGVQYWdpbmF0aW9uIiwiZm4iLCJvcHRpb25zIiwiZWFjaCIsImVsIiwiYXJncyIsInNlbGVjdCIsImxpc3RDbGFzcyIsInRleHRDbGFzcyIsIm9wdGlvbnNDbGFzcyIsInNlbGVjdENsaWNrIiwiZXZlbnQiLCJhIiwiY3NzIiwib3B0aW9uQ2xpY2siLCJvcHRpb25UZXh0IiwidGV4dCIsImNvbmZpZyIsImNsYXNzIiwiYXBwZW5kVG8iLCJz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LHlCQUNYRSxhQUFjLGlCQUNkRCxVQUFXLHNCQUlaL0QsR0FBRXdELEdBQUdLLE9BQVMsU0FBU0osR0FxQ3RCLFFBQVNRLEdBQWFDLEdBQ1gsSUFBTkMsR0FDSm5FLEVBQUU4RCxHQUFXTSxJQUFJLFVBQVcsUUFDNUJELEdBQU0sSUFHTG5FLEVBQUU4RCxHQUFXTSxJQUFJLFVBQVcsUUFDNUJELEdBQU0sR0FNUixRQUFTRSxHQUFhSCxHQUNyQkksRUFBY3RFLEVBQUVLLE1BQU1rRSxPQUV0QnZFLEVBQUUrRCxHQUFXUSxLQUFLRCxHQW5EbkIsR0FBSUUsR0FBU3hFLEVBQUVVLFVBQVdKLEVBQVVtRCxFQUdwQ3BELE1BQUtjLEtBQU8sV0FDWG5CLEVBQUUsV0FDRHVFLEtBQU1DLEVBQU9mLFFBQVEsR0FDckJnQixNQUFVLGlCQUNSdEMsU0FBU3FDLEVBQU9ULFdBQVdXLFNBQVNyRSxLQVF2QyxLQUFLLEdBTkRzRSxHQUFhM0UsRUFBRSxTQUNsQnlFLE1BQVMsb0JBQ050QyxTQUFTcUMsRUFBT1YsV0FBV1ksU0FBU3JFLE1BRXBDb0QsRUFBVWUsRUFBT2YsUUFFWjdCLEVBQUksRUFBR0EsRUFBSTZCLEVBQVE5QixPQUFRQyxJQUNuQzVCLEVBQUUsU0FDRHVFLEtBQU1kLEVBQVE3QixHQUNkNkMsTUFBVSxXQUNSdEMsU0FBU3FDLEVBQU9SLGNBQWNVLFNBQVNDLElBSzVDdEUsS0FBS2MsTUFFTCxJQUlJbUQsR0FKQU4sRUFBZSxJQUFNUSxFQUFPUixhQUM1QkYsRUFBWSxJQUFNVSxFQUFPVixVQUN6QmMsRUFBVyxJQUFNNUUsRUFBRUssTUFBTXdFLEtBQUssTUFDOUJWLEVBQUUsRUFFRkosRUFBWSxJQUFNUyxFQUFPVCxTQXVCN0IsT0FwQkEvRCxHQUFFNEUsR0FBVUUsS0FBSyxRQUFTYixHQWExQmpFLEVBQUVnRSxHQUFjYyxLQUFLLFFBQVNULEdBT3ZCaEUsT0FHTk4iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIjsoZnVuY3Rpb24oZmFjdG9yeSl7XHJcbiAgXHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICBkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgICBmYWN0b3J5KGpRdWVyeSk7XHJcbiAgfVxyXG5cclxufSkoZnVuY3Rpb24oJCl7XHJcbiAgXHJcbiAgdmFyIENhcm91c2VsID0gKGZ1bmN0aW9uKGVsZW1lbnQsIHNldHRpbmdzKXtcclxuXHJcbiAgICAvKlxyXG4gICAgICog0JrQvtC90YHRgtGA0YPQutGC0L7RgCDQtNC70Y8gQ2Fyb3VzZWxcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIF9DYXJvdXNlbChlbGVtZW50LCBzZXR0aW5ncyl7XHJcbiAgICAgIHRoaXMuZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgLy9pbmZpbml0ZTogdHJ1ZSxcclxuICAgICAgICAvL3NsaWRlc1Zpc2libGU6IDEsXHJcbiAgICAgICAgLy9zbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAvL2Fycm93czogdHJ1ZSxcclxuICAgICAgICAvL3N3aXBlQWJsZTogdHJ1ZSxcclxuICAgICAgICBwYWdpbmF0aW9uOiB0cnVlLFxyXG4gICAgICAgIC8vYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgICAgc2xpZGVEdXJhdGlvbjogJzEwMDAnLFxyXG4gICAgICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDBcclxuXHJcbiAgICAgIH07XHJcbiAgICAgIC8vINCh0LLQvtC50YHRgtCy0LAg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y5cclxuICAgICAgdGhpcy5zZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LHRoaXMsdGhpcy5kZWZhdWx0cyxzZXR0aW5ncyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDQl9C90LDRh9C10L3QuNGPINC60L7RgtC+0YDRi9C1INCx0YPQtNGD0YIg0LjQt9C80LXQvdC10L3RiyDQsiDQv9GA0L7RhtC10YHRgdC1INGA0LDQsdC+0YLRiyDQv9C70LDQs9C40L3QsFxyXG4gICAgICB0aGlzLmluaXRpYWxzID0ge1xyXG4gICAgICAgIGluZGV4IDogMCxcclxuICAgICAgICAkaW5kZXg6IG51bGwsXHJcbiAgICAgICAgdG90YWxTbGlkZXMgOiBmYWxzZSxcclxuICAgICAgICBjc3N0cmFuc2l0aW9uczogZmFsc2VcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgICQuZXh0ZW5kKHRoaXMsdGhpcy5pbml0aWFscyk7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLiRlbCA9ICQoZWxlbWVudCk7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLmNoYW5nZVNsaWRlID0gJC5wcm94eSh0aGlzLmNoYW5nZVNsaWRlLHRoaXMpO1xyXG4gICAgICBcclxuICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gX0Nhcm91c2VsO1xyXG4gIFxyXG4gIH0pKCk7XHJcbiAgXHJcbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB0aGlzLmFkZFBhZ2luYXRpb24oKTtcclxuICAgIHRoaXMuYWRkRXZlbnRzKCk7XHJcbiAgICB0aGlzLmFjdGl2YXRlUGFnaW5hdGlvbigpO1xyXG4gICAgdGhpcy5pbml0VGltZXIoKTtcclxuICAgfTtcclxuXHRcclxuXHQvKlxyXG5cdCAqINCh0L7Qt9C00LDQtdC8INGB0YHRi9C70LrQuCDQvdCwINC/0LDQs9C40L3RhtC40Y5cclxuXHQgKlxyXG5cdCAqLyBcclxuICAgIENhcm91c2VsLnByb3RvdHlwZS5hZGRQYWdpbmF0aW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgZG90cyA9IHRoaXMuJGVsLmZpbmQoJy5jb25uZWN0X19kb3RzJyk7XHJcblx0XHR0aGlzLnRvdGFsU2xpZGVzID0gdGhpcy4kZWwuZmluZCgnLmpzLXNsaWRlJykubGVuZ3RoO1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnRvdGFsU2xpZGVzOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGRvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgICAgIGRvdC5jbGFzc05hbWUgPSAnY29ubmVjdF9fZG90JztcclxuICAgICAgICAgICAgZG90cy5hcHBlbmQoZG90KTtcclxuICAgICAgICB9XHJcblx0fTtcclxuXHRcclxuXHQvKlxyXG5cdCAqINCQ0LrRgtC40LLQuNGA0YPQtdC8INGB0YHRi9C70LrRgyDQvdCwIGluZGV4XHJcblx0ICpcclxuXHQgKi8gXHJcblx0Q2Fyb3VzZWwucHJvdG90eXBlLmFjdGl2YXRlUGFnaW5hdGlvbiA9IGZ1bmN0aW9uKCl7XHJcblx0XHR0aGlzLiRpbmRleCA9IHRoaXMuJGVsLmZpbmQoJy5qcy1zbGlkZScpLmVxKDApO1xyXG5cdFx0dGhpcy4kZWwuZmluZCgnLmNvbm5lY3RfX2RvdHMgbGknKS5lcSgwKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0fTtcclxuXHRcclxuXHQvKlxyXG5cdCAqINCh0L7Qt9C00LDQtdC8INC40LLQtdC90YIg0L3QsCDQvdCw0LbQsNGC0LjQtSDQutC90L7Qv9C+0Log0L/QsNCz0LjQvdCw0YbQuNC4XHJcblx0ICpcclxuXHQgKi8gXHJcblx0Q2Fyb3VzZWwucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uKCl7XHJcblx0XHQkKCdib2R5JylcclxuXHRcdFx0Lm9uKCdjbGljaycsJy5jb25uZWN0X19kb3RzIGxpJyx0aGlzLmNoYW5nZVNsaWRlKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qXHJcblx0ICog0KLQsNC50LzQtdGAXHJcblx0ICpcclxuXHQgKi8gXHJcblx0Q2Fyb3VzZWwucHJvdG90eXBlLmNsZWFyVGltZXIgPSBmdW5jdGlvbigpe1xyXG5cdFx0aWYgKHRoaXMudGltZXIpIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XHJcblx0fTtcclxuXHRcclxuXHRDYXJvdXNlbC5wcm90b3R5cGUuaW5pdFRpbWVyID0gZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLmNoYW5nZVNsaWRlLCB0aGlzLnNldHRpbmdzLnNsaWRlRHVyYXRpb24pO1xyXG5cdH07XHJcblx0XHJcblx0Q2Fyb3VzZWwucHJvdG90eXBlLnN0YXJ0VGltZXIgPSBmdW5jdGlvbigpe1xyXG5cdFx0dGhpcy5pbml0VGltZXIoKTtcclxuXHRcdHRoaXMudGhyb3R0bGUgPSBmYWxzZTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qXHJcblx0ICog0KHQvNC10L3QsCDRgdC70LDQudC00LBcclxuXHQgKlxyXG5cdCAqLyBcclxuXHRDYXJvdXNlbC5wcm90b3R5cGUuY2hhbmdlU2xpZGUgPSBmdW5jdGlvbihlKXtcclxuXHRcdFxyXG5cdFx0aWYgKHRoaXMudGhyb3R0bGUpIHJldHVybjtcclxuXHRcdHRoaXMudGhyb3R0bGUgPSB0cnVlO1xyXG5cdFx0XHJcblx0XHR0aGlzLmNsZWFyVGltZXIoKTtcclxuXHRcdFxyXG4gICAgICAgIC8vINCd0LDQv9GA0LDQstC70LXQvdC40LVcclxuXHRcdHZhciBkaXJlY3Rpb24gPSB0aGlzLl9kaXJlY3Rpb24oZSk7XHJcblx0XHRcclxuXHRcdC8vINCS0YvQsdC40YDQsNC10Lwg0YHQu9C10LTRg9GO0YnQuNC5INGB0LvQsNC50LRcclxuXHRcdHZhciBhbmltYXRlID0gdGhpcy5fbmV4dChlLGRpcmVjdGlvbik7XHJcblx0XHRpZiAoIWFuaW1hdGUpIHJldHVybjtcclxuXHRcdFxyXG5cdFx0Ly8g0JDQutGC0LjQstC40YDRg9C10Lwg0YHQu9C10LTRg9GO0YnQuNC5INGB0LvQsNC50LRcclxuXHRcdHZhciAkbmV4dFNsaWRlID0gdGhpcy4kZWwuZmluZCgnLmpzLXNsaWRlJykuZXEodGhpcy5pbmRleCkuYWRkQ2xhc3MoZGlyZWN0aW9uICsgJyBhY3RpdmUnKS5mYWRlSW4oMTAwMCk7XHJcblx0XHRcclxuICAgICAgICB0aGlzLl9hbmltYXRpb24oJG5leHRTbGlkZSxkaXJlY3Rpb24pO1xyXG5cdFx0XHJcblx0fTtcclxuXHRcclxuXHQvKlxyXG5cdCAqINCd0LDQv9GA0LDQstC70LXQvdC40LVcclxuXHQgKlxyXG5cdCAqLyBcclxuXHRDYXJvdXNlbC5wcm90b3R5cGUuX2RpcmVjdGlvbiA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0dmFyIGRpcmVjdGlvbjtcclxuXHRcdFxyXG5cdFx0aWYgKHR5cGVvZiBlICE9PSAndW5kZWZpbmVkJyl7XHJcblx0XHRcdGRpcmVjdGlvbiA9ICh0eXBlb2YgZS5kYXRhID09PSAndW5kZWZpbmVkJyA/ICdyaWdodCcgOiBlLmRhdGEuZGlyZWN0aW9uKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGlyZWN0aW9uO1xyXG5cdH07XHJcblx0XHJcblx0Q2Fyb3VzZWwucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24oZSxkaXJlY3Rpb24pe1xyXG5cdFx0XHJcbiAgICAvLyBJZiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhIHNsaWRlIGluZGljYXRvciwgd2Ugc3RvcmUgdGhlIGRhdGEtaW5kZXggdmFsdWUgb2YgdGhhdCBpbmRpY2F0b3JcclxuXHRcdHZhciBpbmRleCA9ICh0eXBlb2YgZSAhPT0gJ3VuZGVmaW5lZCcgPyAkKGUuY3VycmVudFRhcmdldCkuaW5kZXgoKSA6IHVuZGVmaW5lZCk7XHJcblx0XHRcclxuXHRcdC8vTG9naWMgZm9yIGRldGVybWluaW5nIHRoZSBuZXh0IHNsaWRlXHJcblx0ICAgIHN3aXRjaCh0cnVlKXtcclxuXHRcdFx0Ly9JZiB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBieSBhbiBpbmRpY2F0b3IsIHdlIHNldCB0aGUgbmV4dCBzbGlkZSBiYXNlZCBvbiBpbmRleFxyXG4gICAgICAgY2FzZSggdHlwZW9mIGluZGV4ICE9PSAndW5kZWZpbmVkJyk6XHJcblx0XHRcdFx0aWYgKHRoaXMuaW5kZXggPT0gaW5kZXgpe1xyXG5cdFx0XHRcdFx0dGhpcy5zdGFydFRpbWVyKCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fSBcclxuXHRcdFx0XHR0aGlzLmluZGV4ID0gaW5kZXg7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlKGRpcmVjdGlvbiA9PSAncmlnaHQnICYmIHRoaXMuaW5kZXggPCAodGhpcy50b3RhbFNsaWRlcyAtIDEpKTpcclxuXHRcdFx0XHR0aGlzLmluZGV4Kys7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlKGRpcmVjdGlvbiA9PSAncmlnaHQnKTpcclxuXHRcdFx0XHR0aGlzLmluZGV4ID0gMDtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UoZGlyZWN0aW9uID09ICdsZWZ0JyAmJiB0aGlzLmluZGV4ID09PSAwKTpcclxuXHRcdFx0XHR0aGlzLmluZGV4ID0gKHRoaXMudG90YWxTbGlkZXMgLSAxKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UoZGlyZWN0aW9uID09ICdsZWZ0Jyk6XHJcblx0XHRcdFx0dGhpcy5pbmRleC0tO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH07XHJcblx0XHJcblx0LypcclxuXHQgKiDQn9GA0Y/Rh9C10Lwg0YHQu9Cw0LnQtFxyXG5cdCAqXHJcblx0ICovIFxyXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLl9hbmltYXRpb24gPSBmdW5jdGlvbigkbmV4dFNsaWRlLGRpcmVjdGlvbil7XHJcbiAgICAgICAgdGhpcy4kaW5kZXgucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmZhZGVPdXQoMCk7XHJcbiAgICAgICAgdGhpcy4kaW5kZXggPSAkbmV4dFNsaWRlLnJlbW92ZUNsYXNzKGRpcmVjdGlvbik7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlUGFnaW5hdGlvbigpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xyXG5cdH07XHJcblx0XHJcblx0Q2Fyb3VzZWwucHJvdG90eXBlLl91cGRhdGVQYWdpbmF0aW9uID0gZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMuJGVsLmZpbmQoJy5jb25uZWN0X19kb3RzIGxpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmVxKHRoaXMuaW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHR9O1xyXG5cdFxyXG5cdCQuZm4uQ2Fyb3VzZWwgPSBmdW5jdGlvbihvcHRpb25zKXtcclxuICAgIFxyXG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpbmRleCxlbCl7XHJcbiAgICAgIFxyXG4gICAgICBlbC5DYXJvdXNlbCA9IG5ldyBDYXJvdXNlbChlbCxvcHRpb25zKTtcclxuICAgICAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gIH07XHJcbiAgXHJcblxyXG59KTtcclxuXHJcblxyXG4vKlxyXG4qINCa0LDRgdGC0L7QvNC90YvQtSDQv9Cw0YDQsNC80LXRgtGA0YtcclxuKlxyXG4qLyBcclxudmFyIGFyZ3MgPSB7XHJcblx0YXV0b3BsYXlTcGVlZCA6IDEwMDAsIFxyXG5cdHNsaWRlRHVyYXRpb24gOiAyMDAwIFxyXG59O1xyXG5cclxuJCgnLmNvbm5lY3RfX21haW4nKS5DYXJvdXNlbChhcmdzKTtcclxuXHJcblx0XHQ7JChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCQoJyNoZWFkZXJfX3NlbGVjdCcpLnNlbGVjdCgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0OyQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkKCcjc2VhcmNoX19zZWxlY3QnKS5zZWxlY3Qoe29wdGlvbnM6W1wi0J/QvtC70LjRgtC10YXQvdC40YfQtdGB0LrQuNC5INC40L3RgdGC0LjRgtGD0YJcIiwgXCLQqNGD0LvRj9Cy0YHQutCw0Y9cIiwgXCLQkdC10YDQtdGB0YLQtdC50YHQutCw0Y9cIiwgXCLQndC40LLQutC4XCJdLCBsaXN0Q2xhc3M6XCJzZWFyY2hfX3NlbGVjdF9vcHRpb25zXCIsIHRleHRDbGFzczpcInNlYXJjaF9fc2VsZWN0X3RleHRcIiwgb3B0aW9uc0NsYXNzOlwic2VhcmNoX19vcHRpb25cIn0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0OyQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkKCcjcG9wdXBfX3NlbGVjdCcpLnNlbGVjdCh7b3B0aW9uczpbXCLQk9C+0LvQvtGB0LXQtdCy0YHQutC40LlcIiwgXCLQn9C10YfQtdGA0YHQutC40LlcIiwgXCLQlNCw0YDQvdC40YbQutC40LlcIiwgXCLQlNC90LXQv9GA0L7QstGB0LrQuNC5XCJdLCBsaXN0Q2xhc3M6XCJwb3B1cF9fc2VsZWN0X29wdGlvbnNcIiwgdGV4dENsYXNzOlwicG9wdXBfX3NlbGVjdF90ZXh0XCIsIG9wdGlvbnNDbGFzczpcInBvcHVwX19vcHRpb25cIn0pO1xyXG5cdFx0fSk7XHJcblxyXG5cclxuXHRcdDsoZnVuY3Rpb24oJCl7XHJcblxyXG5cdHZhciBkZWZhdWx0cz17XHJcblx0XHRvcHRpb25zOiBbXCLQmtC40LXQslwiLCBcItCe0LTQtdGB0YHQsFwiLCBcItCb0YzQstC+0LJcIiwgXCLQpdCw0YDRjNC60L7QslwiXSxcclxuXHRcdGxpc3RDbGFzczogXCJoZWFkZXJfX3NlbGVjdF9vcHRpb25zXCIsXHJcblx0XHRvcHRpb25zQ2xhc3M6IFwiaGVhZGVyX19vcHRpb25cIixcclxuXHRcdHRleHRDbGFzczogXCJoZWFkZXJfX3NlbGVjdF90ZXh0XCJcclxuXHR9O1xyXG5cdFxyXG5cclxuXHQkLmZuLnNlbGVjdCA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xyXG5cclxuXHRcdHZhciBjb25maWcgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cclxuXHJcblx0XHR0aGlzLmluaXQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQkKCc8c3Bhbi8+Jywge1xyXG5cdFx0XHRcdHRleHQ6IGNvbmZpZy5vcHRpb25zWzBdLFxyXG5cdFx0XHRcdFwiY2xhc3NcIiA6IFwic2VsZWN0X190ZXh0XCJcclxuXHRcdFx0fSkuYWRkQ2xhc3MoY29uZmlnLnRleHRDbGFzcykuYXBwZW5kVG8odGhpcyk7XHJcblxyXG5cdFx0XHR2YXIgc2VsZWN0TGlzdCA9ICQoJzx1bC8+Jyx7XHJcblx0XHRcdFx0XCJjbGFzc1wiOiBcInNlbGVjdF9fb3B0aW9uc1wiXHJcblx0XHRcdH0gKS5hZGRDbGFzcyhjb25maWcubGlzdENsYXNzKS5hcHBlbmRUbyh0aGlzKTtcclxuXHJcblx0XHRcdHZhciBvcHRpb25zID0gY29uZmlnLm9wdGlvbnM7XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHQkKFwiPGxpLz5cIiwge1xyXG5cdFx0XHRcdFx0dGV4dDogb3B0aW9uc1tpXSxcclxuXHRcdFx0XHRcdFwiY2xhc3NcIiA6IFwib3B0aW9uXCJcclxuXHRcdFx0XHR9KS5hZGRDbGFzcyhjb25maWcub3B0aW9uc0NsYXNzKS5hcHBlbmRUbyhzZWxlY3RMaXN0KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblxyXG5cdFx0dGhpcy5pbml0KCk7XHJcblxyXG5cdFx0dmFyIG9wdGlvbnNDbGFzcyA9IFwiLlwiICsgY29uZmlnLm9wdGlvbnNDbGFzcztcclxuXHRcdHZhciBsaXN0Q2xhc3MgPSBcIi5cIiArIGNvbmZpZy5saXN0Q2xhc3M7XHJcblx0XHR2YXIgc2VsZWN0SWQgPSBcIiNcIiArICQodGhpcykuYXR0cignaWQnKTtcclxuXHRcdHZhciBhPTE7XHJcblx0XHR2YXIgb3B0aW9uVGV4dDtcclxuXHRcdHZhciB0ZXh0Q2xhc3MgPSBcIi5cIiArIGNvbmZpZy50ZXh0Q2xhc3M7XHJcblxyXG5cclxuXHRcdCQoc2VsZWN0SWQpLmJpbmQoXCJjbGlja1wiLCBzZWxlY3RDbGljayk7XHJcblx0XHRmdW5jdGlvbiBzZWxlY3RDbGljayAoZXZlbnQpIHtcclxuXHRcdFx0aWYgKGEgPT09IDApe1xyXG5cdFx0XHQkKGxpc3RDbGFzcykuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcblx0XHRcdGEgPSBhKzE7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZXtcclxuXHRcdFx0XHQkKGxpc3RDbGFzcykuY3NzKFwiZGlzcGxheVwiLCBcImZsZXhcIik7XHJcblx0XHRcdFx0YSA9IGEtMTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblxyXG5cdFx0JChvcHRpb25zQ2xhc3MpLmJpbmQoXCJjbGlja1wiLCBvcHRpb25DbGljayk7XHJcblx0XHRmdW5jdGlvbiBvcHRpb25DbGljayAoZXZlbnQpe1xyXG5cdFx0XHRvcHRpb25UZXh0ID0gICQodGhpcykudGV4dCgpO1xyXG5cdFx0XHQvLyBhbGVydChvcHRpb25UZXh0KTtcclxuXHRcdFx0JCh0ZXh0Q2xhc3MpLnRleHQob3B0aW9uVGV4dCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG59KShqUXVlcnkpOyJdfQ==
